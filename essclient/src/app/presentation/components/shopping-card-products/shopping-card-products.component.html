<div class="table-responsive">
    <table class="table product-table mb-0">
        <tbody>
            <tr *ngIf="products.length == 0">
                <td>
                    <h6 class="mt-3">
                        <strong>V košíku nemáte žádné produkty</strong>
                    </h6>
                </td>
            </tr>
            <tr *ngFor="let product of products">
                <th scope="row">
                    <img (click)="showDetail(product)" src="{{product.product.image.secureUrl}}" alt="{{product.product.image.originalFileName}}" class="product-image img-fluid z-depth-0">
                </th>
                <td>
                    <h5 class="mt-3 product-title" (click)="showDetail(product)">
                        <strong>{{product.product.name}}</strong>
                    </h5>
                </td>
                <td>
                    {{product.product.buy.price.czkWithVat}} {{mapPriceTypes(product.product.buy.price.priceType)}} / ks
                    <br/>
                    {{product?.service ? moment(product?.service.date)?.format('DD.MM.YYYY') : null}}
                </td>
                <td>
                    <p *ngIf="product.product.type == ProductType.Service" class="mb-0">1 ks</p>
                    <input *ngIf="product.product.type != ProductType.Service" type="number" [min]="1" [max]="product.product.stock.count" (change)="onChangeProductCount(+$event.target.value, product)" [value]="product.count" aria-label="Search" class="form-control" style="width: 100px">
                </td>
                <td class="font-weight-bold">
                    <strong>{{product.totalPrice.czkWithVat}} {{mapPriceTypes(product.totalPrice.priceType)}}</strong> s DPH
                </td>
                <td>
                    <button (click)="removeProduct(product)" type="button" mdbBtn color="primary" size="sm" data-toggle="tooltip" data-placement="top" title="Odstranit z košíku"
                        rounded="true" outline="true">
                        x
                    </button>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <h4 class="mt-2">
                        <strong>Celkem</strong>
                    </h4>
                </td>
                <td *ngIf="total" colspan="4" class="text-right">
                    <h4 class="mt-2">
                        <strong>{{total.totalPrice.czkWithVat}} {{mapPriceTypes(total.totalPrice.priceType)}}</strong> s DPH
                    </h4>
                </td>
            </tr>
        </tbody>
    </table>
</div>