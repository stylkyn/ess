<section class="EshopDetail magazine-section mt-3 mb-5">
    <mdb-breadcrumb>
        <a class="EshopDetail-breadcrumb" *ngIf="category" routerLink="/nase-produkty/{{category.urlName}}">
            <mdb-breadcrumb-item  class="active">{{category.name}}</mdb-breadcrumb-item>
        </a>
    </mdb-breadcrumb>
    <div class="row">
        <div class="col-lg-6 col-md-12">
            <div class="single-news mb-lg-0 mb-4">
                <div class="view overlay rounded z-depth-1-half mb-4">
                    <img class="img-fluid" [src]="_activeProduct.image?.secureUrl" alt="{{_activeProduct.image?.originalFileName}}">
                    <a>
                        <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
                    </a>
                </div>
                <mdb-carousel [isControls]="true" class="carousel-multi-item multi-animation" [type]="'carousel-multi-item'" [animation]="'slide'">
                    <mdb-carousel-item *ngFor="let item of _activeProduct.gallery; let i = index">
                        <div class="col-md-4" [ngClass]="{'d-none d-md-block': cardIndex !== 0}" *ngFor="let img of _activeProduct.gallery; let cardIndex = index">
                            <mdb-card class="mb-3">
                                <div class="view overlay rounded z-depth-1-half">
                                    <img class="img-fluid" [src]="img?.secureUrl" alt="{{img?.originalFileName}}">
                                    <a>
                                        <div class="mask rgba-white-slight waves-light" mdbWavesEffect></div>
                                    </a>
                                </div>
                            </mdb-card>
                        </div>
                    </mdb-carousel-item>
                </mdb-carousel>
                <h3 class="font-weight-bold dark-grey-text mb-3">
                    <a>{{_activeProduct.name}}</a>
                </h3>
                <p class="dark-grey-text mb-lg-0 mb-md-5 mb-4">{{_activeProduct.description}}</p>
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="single-news mb-4">
                <h2 class="font-weight-bold dark-grey-text mb-3">
                    <a>{{_activeProduct.previewName}}</a>
                </h2>
                <p class="dark-grey-text mb-lg-0 mb-md-5 mb-4">{{_activeProduct.previewDescription}}</p>
                <!-- <app-date-range></app-date-range> -->
                <div class="row">
                    <div class="col-md-6">
                    </div>
                    <div class="col-md-6">
                    </div>
                  </div>
                <div class="EshopDetail-pricing">
                    <span class="EshopDetail-pricing-value">
                        {{_activeProduct.buy?.price?.czkWithVat}} {{mapPriceTypes(_activeProduct.buy?.price?.priceType)}}
                        <span *ngIf="_activeProductVAT == 0" class="EshopDetail-pricing-vat">bez DPH</span>
                        <span *ngIf="_activeProductVAT > 0" class="EshopDetail-pricing-vat">s DPH {{_activeProductVAT}}%</span>
                    </span>
                </div>
                <div class="mt-3 w-50">
                    <button 
                        *ngIf="productsCount == 0" 
                        (click)="saveProductBasket(productsCount + 1, true)" 
                        outline="true" 
                        type="button" 
                        color="primary" 
                        mdbWavesEffect
                        mdbBtn>Přidat do košíku</button>
                    <app-shopping-button 
                        #shoppingButton
                        *ngIf="productsCount > 0" 
                        (changed)="saveProductBasket($event)" 
                        [productsCount]="productsCount"></app-shopping-button>
                </div>
            </div>
        </div>
    </div>
</section>